<div id = "messages">
    <div class = "alert alert-info" style = "text-align: center">
        Hi <strong>{{this.Me.UserId}}</strong>, View and Edit your profile here
    </div>
</div>
<div class="container">
    <div class = "row">

        <div class = "col-md-5" >
            <div class="card border-info" >
                <div class = "card-body text-info">
                    <button 
                        type="button" class="btn btn-outline-secondary mr-2" 
                        (click)="fileInput.click();changeMsg({ greeting: 'Don\'t forget to upload!'})" 
                        placement="top" ngbTooltip="Choose a file to upload">
                        Select File
                    </button>
                    <ng-template #tipContent let-greeting="greeting">{{greeting}}</ng-template>
                    <button 
                        [ngbTooltip]="tipContent" #t="ngbTooltip" triggers="manual" 
                        type="button" class="btn btn-outline-secondary mr-2" 
                        (click)="onUpload(t)" placement="right">
                        Upload!
                    </button>
                    <img class="card-img-top" [src] = "Me.UserProfile.ProfileImg" alt="Card image cap" style = "padding-top: 3%">
                    <input 
                        style="display: none" 
                        type="file" (change)="onFileChanged($event)" 
                        #fileInput>
                </div>
            </div>
        </div>

        <div class = "col-md-7" *ngIf = !isEdit>
            <div class="card border-info " >
                <div class = "card-body text-info">
                    <h5 class="card-title" style = "text-align: center">{{Me.UserId}}'s Profile</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">User Id: {{Me.UserId}}</li>
                        <li class="list-group-item">Name: {{Me.UserProfile.Name}}</li>
                        <li class="list-group-item">Age: {{Me.UserProfile.Age}} </li>
                        <li class="list-group-item">Gender: {{Me.UserProfile.Gender}} </li>
                        <li class="list-group-item">Height: {{Me.UserProfile.Heightft}}" {{Me.UserProfile.Heightin}}' </li>
                        <li class="list-group-item">Weight: {{Me.UserProfile.Weight}} lb</li>
                        <li class="list-group-item">BMI: {{Me.UserProfile.Bmi}} </li>
                        <li class="list-group-item">Goal: {{Me.UserProfile.Goal}} </li>
                        <li class="list-group-item">Email: {{Me.UserProfile.Email}} </li>
                    </ul>
                    <button class="btn btn-primary btn-sm" style = "float:right" (click) = "toggleEdit()">Edit User</button>
                </div>
            </div>
        </div>

        <!-- Uses ngModel to two way data bind -->
        <div class = "col-md-7" *ngIf = isEdit>
            <div class="card border-info " >
                <div class = "card-body text-info">
                    <h5 class="card-title" style = "text-align: center">Edit your profile</h5>
                    <form>
                        <div class="form-group row">
                            <label for="Name" class="col-2 col-form-label">Name</label>
                            <div class="col-10">
                                <input class="form-control" placeholder = "Jane Doe" type="text" 
                                    [(ngModel)] = "Me.UserProfile.Name" name = "Name">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="Age" class="col-2 col-form-label">Age</label>
                            <div class="col-10">
                                <input class="form-control" placeholder = "20" type="number"  
                                    [(ngModel)] = "Me.UserProfile.Age" name = "Age">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="example-email-input" class="col-2 col-form-label">Height</label>
                            <div class="col">
                                <input class="form-control col" placeholder = "ft" type="number" 
                                    [(ngModel)] = "Me.UserProfile.Heightft" name = "Heightft">
                            </div>
                            <div class = "col">
                                <input class="form-control col" placeholder = "in" type="number" 
                                    [(ngModel)] = "Me.UserProfile.Heightin" name = "Heightin">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="example-url-input" class="col-2 col-form-label">Weight</label>
                            <div class="col-10">
                                <input class="form-control" placeholder = "lb" type="number" 
                                    [(ngModel)] = "Me.UserProfile.Weight" name = "Weight">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="example-search-input" class="col-2 col-form-label">Goal</label>
                            <div class="col-10">
                                <input class="form-control" placeholder = "ex) Lose 5lbs" type="text" 
                                    [(ngModel)] = "Me.UserProfile.Goal" name = "Goal">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="example-email-input" class="col-2 col-form-label">Email</label>
                            <div class="col-10">
                                <input class="form-control" placeholder = "example@gmail.com" type="email" 
                                    [(ngModel)] = "Me.UserProfile.Email" name = "Email">
                            </div>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="Female" 
                                [(ngModel)] = "Me.UserProfile.Gender">
                            <label class="form-check-label" for="inlineRadio1">Female</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="Male" 
                                [(ngModel)] = "Me.UserProfile.Gender">
                            <label class="form-check-label" for="inlineRadio2">Male</label>
                        </div>
                        <button class="btn btn-primary btn-sm" style = "float:right" (click) = "toggleEdit();saveProfile($event)"> 
                            Save
                        </button>
                    </form>
                </div>
            </div>
        </div>

    </div>
    <!-- end row -->
</div>